# skippy-junit5

Skippy support for JUnit 5.

## Step 1: Add The skippy-junit5 Dependency

Releases are available in Maven Central:
```groovy
repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'io.skippy:skippy-junit5:0.0.7'
}
```

Snapshots are available in `s01.oss.sonatype.org`:
```groovy
repositories {
    maven { url = 'https://s01.oss.sonatype.org/content/repositories/snapshots/' }
}

dependencies {
    testImplementation 'io.skippy:skippy-junit5:0.0.8-SNAPSHOT'
}
```

## Step 2: Skippify Your Tests
Annotate the tests you want to skippify with `@Skippified`:
```groovy
import io.skippy.junit5.Skippified;

@Skippified
public class FooTest {

    @Test
    void testFoo() {
        assertEquals("hello", Foo.hello());
    }
}
```


## Step 3: Run Your Tests

Skippy intelligently decides whether to execute or skip tests based on data in the skippy folder.
This data is generated using the [skippy-gradle](../skippy-gradle/README.md) plugin. 
Let's go over the scenarios that you might encounter.

Note: The verbose logging in the following examples is generated by setting the
log level for `io.skippy` to `DEBUG`.

### No Change Detected

Skippy skips a test if neither the test nor a covered class have changed:
```
./gradlew test

DEBUG i.s.c.SkippyAnalysis - com.example.FooTest: No changes in test or covered classes detected: Execution skipped
FooTest > testFoo() SKIPPED
```

### No Coverage Data For Test

Skippy executes a test if it does not find coverage data for the test in the `skippy` folder:
```
./gradlew test

DEBUG i.s.c.SkippyAnalysis - com.example.FooTest: No coverage data found: Execution required
FooTest > testFoo() PASSED
```

### Bytecode Change In Test Detected

Skippy executes a tests if it detects a bytecode change in the test:
```
./gradlew test

DEBUG i.s.c.SkippyAnalysis - com.example.FooTest: Bytecode change detected: Execution required
FooTest > testFoo() PASSED
```

### No Hash For Test Found

Skippy executes a tests if it does not find a hash for the test in `skippy/classes.md5`:
```
./gradlew test

DEBUG i.s.c.SkippyAnalysis - com.example.FooTest: No hash found: Execution required
FooTest > testFoo() PASSED
```

### No Hash For Covered Class Found

Skippy executes a tests if it does not find a hash for a covered class in `skippy/classes.md5`:
```
./gradlew test

DEBUG i.s.c.SkippyAnalysis - com.example.FooTest: No hash for covered class 'com.example.Service' found: Execution required
FooTest > testFoo() PASSED
```

### Bytecode Change In Covered Class Detected

Skippy executes a tests if it detects a bytecode change in a covered class:
```
./gradlew test

DEBUG i.s.c.SkippyAnalysis - com.example.FooTest: Bytecode change in covered class 'com.example.Service' detected: Execution required
FooTest > testFoo() PASSED
```
